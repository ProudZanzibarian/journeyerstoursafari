jQuery.noConflict()(function ($) {
  function b() {
    $(".grid").masonry({ itemSelector: ".grid-item" });
  }

  // jQuery document ready function
    // Add scroll event listener
    $(window).scroll(function () {
      var b = $(".top-header").outerHeight();

      if ($(window).width() >= 992) {
        if ($(this).scrollTop() > b) {
          $("#masthead").addClass("fixed-header");
        } else {
          $("#masthead").removeClass("fixed-header");
        }
      } else {
        var c = $(".bottom-header").outerHeight();
        var d = b + c;

        if ($(this).scrollTop() > d) {
          $("#masthead").addClass("fixed-header");
        } else {
          $("#masthead").removeClass("fixed-header");
        }
      }
    });

    // Click event for header search icon
    $(document).on("click", ".header-search-icon .search-icon", function (e) {
      e.preventDefault();
      $(".header-search-form").addClass("search-in");
    });

    // Click event to close search
    $("body, .search-close").click(function (e) {
      if (!$(e.target).is(".header-search-form input")) {
        $(".header-search-form").removeClass("search-in");
      }
    });

    // Initialize slicknav
    $("#navigation").slicknav({
      duration: 500,
      closedSymbol: '<i class="fas fa-plus"></i>',
      openedSymbol: '<i class="fas fa-minus"></i>',
      prependTo: ".mobile-menu-container",
      allowParentLinks: true,
      nestedParentLinks: false,
      label: "Menu",
      closeOnClick: true,
    });

    // Initialize date picker
    $(".input-date-picker").datepicker();


    // Initialize client-slider
    $(".client-slider").slick({
      dots: false,
      infinite: true,
      speed: 1000,
      prevArrow: false,
      nextArrow: false,
      slidesToShow: 5,
      autoplay: false,
      responsive: [
        { breakpoint: 768, settings: { slidesToShow: 3 } },
        { breakpoint: 479, settings: { slidesToShow: 2 } },
      ],
    });

    // Initialize testimonial-slider
    $(".testimonial-slider").slick({
      dots: true,
      infinite: true,
      autoplay: false,
      speed: 1200,
      slidesToShow: 1,
      slidesToScroll: 1,
      adaptiveHeight: false,
      prevArrow: false,
      nextArrow: false,
    });

    // Scroll event for back to top button
    $(window).scroll(function () {
      if ($(this).scrollTop() > 300) {
        $("#backTotop").fadeIn(200);
      } else {
        $("#backTotop").fadeOut(200);
      }
    });

    // Click event for back to top button
    $("#backTotop").click(function (e) {
      e.preventDefault();
      $("html, body").animate({ scrollTop: 0 }, 1000);
    });

    // Initialize loopcounter
    loopcounter("time-counter");

    // Initialize single-tour-slider
    $(".single-tour-slider").slick({
      dots: true,
      infinite: true,
      autoplay: false,
      speed: 1200,
      slidesToShow: 2,
      adaptiveHeight: false,
      prevArrow: false,
      nextArrow: false,
    });

    // Initialize choice-slider
    $(".choice-slider").slick({
      dots: false,
      infinite: true,
      autoplay: false,
      speed: 1200,
      fade: true,
      slidesToShow: 1,
      slidesToScroll: 1,
      adaptiveHeight: false,
    });

    // Initialize product-thumbnails
    $(".product-thumbnails").slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: false,
      fade: true,
      asNavFor: ".product-thumb-nav",
    });

    // Initialize product-thumb-nav
    $(".product-thumb-nav").slick({
      slidesToShow: 4,
      slidesToScroll: 1,
      asNavFor: ".product-thumbnails",
      dots: false,
      centerMode: true,
      focusOnSelect: true,
    });

    // Window load event
    $(window).on("load", function () {
      $("#siteLoader").fadeOut(500);
      b();
    });

    // Window resize event
    $(window).on("resize", function () {
      b();
    });

    // Initialize slider-range
    $("#slider-range").slider({
      range: "max",
      min: 0,
      max: 1000,
      value: 500,
      slide: function (event, ui) {
        $("#maxAmount").val(ui.value);
      },
    });

    $("#maxAmount").val($("#slider-range").slider("value"));

    // Initialize modalVideo
    $("#video-container").modalVideo({
      youtube: { controls: 0, nocookie: true },
    });

    // Initialize counterUp
    $(".counter").counterUp();

    // Quantity input handling
    $(".quantity").prop("disabled", true);

    $(document).on("click", ".plus-btn", function (e) {
      e.preventDefault();
      $(".quantity").val(parseInt($(".quantity").val()) + 1);
    });

    $(document).on("click", ".minus-btn", function (e) {
      e.preventDefault();
      $(".quantity").val(Math.max(1, parseInt($(".quantity").val()) - 1));
    });
  });
